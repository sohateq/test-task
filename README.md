# Комментарий исполнителя
Выполнил Камеко А.И. 8-977-814-01-48

Реализовал все пункты задания. Написал тесты для методов контроллера - несколько случаев добавления самолетов и машин 
(сохранение валидных и невалидный элементов, загрузка информации, добавление дополнительных оценок к ужн сохраненным объектам). 

Думаю что тесты хорошо демонстируют проделанную работу. Все методы тестов  прокомментированы. Так же добавил комментарии к коду.
<br />
<br />

Так как условие не накладывает ограничений в проектировке, я создал отдельные таблицы для хранения оценок машин и самолетов.
Соответственно получилось много похожего кода. Такое решение дает больше гибкости, если оценки для авто и самолетов будут иметь разные форматы в будущем, 
или если появятся отличия в бизнес-логике. Почему не сделал иначе - в конце.
<br />
<br />

Как работает проект:

Классы **CarDto** и **AirplaneDto** содержат в себе поле **List<Pair<BigDecimal, LocalDate>> assessments** - 
это список из пар значений дата-оценка. При отправке post-запроса по адресу **/collateral/save**
данные объекты будут сохранены если: 

1) id объекта отсутствует в базе(для сохранения нового объекта установите id <= 0 например)
2) в списке assessment последняя по дате оценка проходит валидацию в ExternalApproveService (условие задания)

Если нужно добавить оценок для уже сохраненных объектов обеспечения, 
нужно отправить Dto через post-запрос по адресу **/collateral/assess** с установленным id, который уже хранится в базе.
<br />
<br />

Была мысль складывать все оценки в одну таблицу, тогда можно было сделать код проекта более лаконичным, уменьшить количество классов. 

В таком случае **AirplaneDto** и **CarDto** могли хранить в себе общий условный **AssessmentDto**, 
в пакете _model_ классы **AirplaneAssessment** и **CarAssessment** сменились одним классом **Assessment**,
в пакете _repository_ классы **AirplaneAssessmentRepository** и **CarAssessmentRepository** сменились одним классом **AssessmentRepository**.

При этом была бы создана еще одна таблица для хранения **id** всех объектов обеспечения, а таблицы **CAR** и **AIRPLANE** обзавелись дополнительной колонкой, с данными из этой таблицы. 
Я отказался от этого решения, опасаясь возможных подводных камней и снижения гибкости бизнес-логики.
<br />
<br />

Буду с нетерпением ждать обратной связи!
# Задание 
*	Добавить возможность сохранения нового объекта обеспечения - самолет (таблица AIRPLANE). При внесении изменений следует предусмотреть возможность добавления новых видов объектов обеспечения.
*	Добавить возможность получения информации о сохраненных самолетах (аналогично тому как это реализовано с автомобилями)
*	Добавить возможность добавлять ко всем объектам обеспечения стоимостные оценки. Для одного объекта обеспечения может быть несколько стоимостных оценок. Стоимостная оценка представляет собой некоторую сумму и время когда эта оценка проводилась. Все оценки должны храниться в БД. При передаче в ExternalApproveService должна использоваться последняя по дате стоимостная оценка для объекта.
Сейчас есть некоторая реализация стоимостной оценки для автомобилей: сумма хранится в таблице CAR вместе с остальными данными, а дата берется текущая. Нужно провести рефакторинг и так же вынести оценки для автомобилей в новую таблицу.
# Пояснения
*	Перед сохранением все объекты обеспечения должны быть проверены через ExternalApproveService (как в коде сейчас происходит для автомобилей)
